<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>í•˜ëŠ˜ëŒ€í•™ë¶€ ë¦¬ë”ì‹­ ë§ì”€ ì„ ë¬¼</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Malgun Gothic', sans-serif;
      background: linear-gradient(to bottom, #f5f0e8 0%, #e8dcc8 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }

    /* í˜ì´ì§€ ì „í™˜ */
    .page { display: none; }
    .page.active { display: block; }

    /* ë©”ì¸ í˜ì´ì§€ */
    .container {
      background: linear-gradient(to bottom, #f5f0e8 0%, #f0e8d8 30%, #e8dcc8 60%, #d8ccb8 100%);
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.1);
      max-width: 600px; width: 100%;
      overflow: hidden;
    }
    .header { text-align: center; padding: 30px 20px 20px; }
    .logo { color: #5b8fc7; font-size: 16px; font-weight: bold; margin-bottom: 40px; }
    .year-badge {
      display: inline-block; border: 3px solid #333; border-radius: 50px;
      padding: 8px 35px; font-size: 24px; font-weight: bold; margin-bottom: 30px;
    }
    .main-title { font-size: 36px; font-weight: bold; line-height: 1.4; margin-bottom: 60px; color: #222; }
    .btn-primary {
      display: block; width: 100%; max-width: 500px; margin: 0 auto 20px; padding: 18px 30px;
      background: linear-gradient(to bottom, #6b5d4f 0%, #4a3f35 100%);
      color: white; font-size: 18px; font-weight: bold; border: none; border-radius: 12px;
      cursor: pointer; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
    }

    /* ê²°ê³¼ í˜ì´ì§€ */
    .result-container {
      background: linear-gradient(135deg, #e8f4f8 0%, #b8d4e8 100%);
      min-height: 100vh; width: 100vw;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      position: fixed; top: 0; left: 0; padding: 40px 20px;
    }
    .result-card {
      background: #fefdfb; border: 3px solid #d4b896; border-radius: 20px 20px 30px 30px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.15);
      padding: 60px 40px 40px; max-width: 450px; width: 90%; margin-bottom: 30px;
    }
    .year-badge-small {
      display: inline-block; background: #d4b896; color: white;
      border-radius: 20px; padding: 4px 16px; font-size: 14px; font-weight: bold;
    }
    .verse-title { font-size: 18px; font-weight: bold; color: #333; margin-bottom: 30px; }
    .verse-content { font-size: 16px; line-height: 1.8; color: #333; margin-bottom: 25px; text-align: center; }
    .verse-reference { font-size: 14px; color: #666; text-align: center; }
    .button-container { display: flex; gap: 15px; max-width: 450px; width: 90%; }
    .btn-secondary {
      flex: 1; padding: 16px 20px; background: #333; color: white;
      font-size: 16px; font-weight: bold; border: none; border-radius: 12px;
      cursor: pointer; transition: all 0.3s ease;
    }
    .btn-download { background: white; color: #333; border: 2px solid #ddd; }

    /* ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ */
    #previewModal {
      display: none; position: fixed; top:0; left:0; width:100%; height:100%;
      background:rgba(0,0,0,0.6); display:flex; align-items:center; justify-content:center;
      z-index:9999;
    }
    #previewModal .modal-content {
      background:white; padding:20px; border-radius:12px; text-align:center; max-width:500px; width:90%;
    }
    #previewModal img { max-width:100%; border:1px solid #ddd; margin-bottom:15px; }
  </style>
</head>
<body>

  <!-- ë©”ì¸ í˜ì´ì§€ -->
  <div id="mainPage" class="page active">
    <div class="container">
      <div class="header">
        <div class="logo">Haneul</div>
        <div class="year-badge">2025</div>
        <h1 class="main-title">ì„ í•œ ê±¸ìŒì„ ìœ„í•œ,<br>ì‘ì› ë§ì”€</h1>
      </div>
      <div class="content">
        <p class="subtitle">ì„ í•œ ì‚¬ëŒì˜ ê±¸ìŒì„ ì—¬í˜¸ì™€ê»˜ì„œ ì •í•˜ì‹œë‹ˆ<br>ê·¸ë¶„ì€ ê·¸ ê¸¸ì„ ê¸°ë»í•˜ì‹­ë‹ˆë‹¤.</p>
        <p class="description">ì‹œí¸ 37í¸ 23ì ˆ</p>
        <button class="btn-primary" onclick="startLoading()">ëœë¤ ë§ì”€ ë½‘ê¸°</button>
      </div>
    </div>
  </div>

  <!-- ë¡œë”© í˜ì´ì§€ -->
  <div id="loadingPage" class="page">
    <div class="loading-container">
      <div class="loading-text">ë‚´ê²Œ ê¼­ ë§ëŠ” ë§ì”€ì„ ì°¾ëŠ” ì¤‘ì…ë‹ˆë‹¤!</div>
    </div>
  </div>

  <!-- ê²°ê³¼ í˜ì´ì§€ -->
  <div id="resultPage" class="page">
    <div class="result-container">
      <div class="result-card" id="verseCard">
        <div style="text-align: center;">
          <span class="year-badge-small">2025</span>
          <div class="verse-title">ì‘ì› ë§ì”€</div>
        </div>
        <div class="verse-content" id="verseContent"></div>
        <div class="verse-reference" id="verseReference"></div>
      </div>
      <div class="button-container">
        <button class="btn-secondary" onclick="startLoading()">ë§ì”€ ë‹¤ì‹œ ë½‘ê¸°</button>
        <button class="btn-secondary btn-download" onclick="previewImage()">ğŸ“¥ ì´ë¯¸ì§€ ì €ì¥</button>
      </div>
    </div>
  </div>

  <!-- ë¯¸ë¦¬ë³´ê¸° ëª¨ë‹¬ -->
  <div id="previewModal">
    <div class="modal-content">
      <h3>ğŸ“¸ ì €ì¥í•  ì´ë¯¸ì§€ ë¯¸ë¦¬ë³´ê¸°</h3>
      <img id="previewImage" src="" alt="Preview">
      <div>
        <button class="btn-secondary" onclick="saveImage()">ì €ì¥í•˜ê¸°</button>
        <button class="btn-secondary" onclick="closePreview()">ë‹«ê¸°</button>
      </div>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    const verses = [
      { content: "ë„ˆí¬ ì¤‘ì— ëˆ„êµ¬ë“ ì§€ ì§€í˜œê°€ ë¶€ì¡±í•˜ê±°ë“ <br>ëª¨ë“  ì‚¬ëŒì—ê²Œ í›„íˆ ì£¼ì‹œê³ <br>ê¾¸ì§–ì§€ ì•„ë‹ˆí•˜ì‹œëŠ” í•˜ë‚˜ë‹˜ê»˜ êµ¬í•˜ë¼<br>ê·¸ë¦¬í•˜ë©´ ì£¼ì‹œë¦¬ë¼", reference: "ì•¼ê³ ë³´ì„œ 1ì¥ 5ì ˆ" },
      { content: "ë‚´ê°€ ì£¼ê»˜ ë°”ë¼ëŠ” í•œ ê°€ì§€ ì¼ ê·¸ê²ƒì„ êµ¬í•˜ë¦¬ë‹ˆ<br>ê³§ ë‚´ê°€ ë‚´ í‰ìƒì— ì—¬í˜¸ì™€ì˜ ì§‘ì— ì‚´ë©´ì„œ<br>ì—¬í˜¸ì™€ì˜ ì•„ë¦„ë‹¤ì›€ì„ ë°”ë¼ë³´ë©°<br>ê·¸ì˜ ì„±ì „ì—ì„œ ì‚¬ëª¨í•˜ëŠ” ê·¸ê²ƒì´ë¼", reference: "ì‹œí¸ 27í¸ 4ì ˆ" },
      { content: "ê·¸ëŸ¬ë¯€ë¡œ ì—¼ë ¤í•˜ì—¬ ì´ë¥´ê¸°ë¥¼ ë¬´ì—‡ì„ ë¨¹ì„ê¹Œ<br>ë¬´ì—‡ì„ ë§ˆì‹¤ê¹Œ ë¬´ì—‡ì„ ì…ì„ê¹Œ í•˜ì§€ ë§ë¼<br>ë„ˆí¬ í•˜ëŠ˜ ì•„ë²„ì§€ê»˜ì„œ ì´ ëª¨ë“  ê²ƒì´ ë„ˆí¬ì—ê²Œ ìˆì–´ì•¼ í•  ì¤„ì„ ì•„ì‹œëŠë‹ˆë¼", reference: "ë§ˆíƒœë³µìŒ 6ì¥ 31-32ì ˆ" },
      { content: "ìˆ˜ê³ í•˜ê³  ë¬´ê±°ìš´ ì§ ì§„ ìë“¤ì•„ ë‹¤ ë‚´ê²Œë¡œ ì˜¤ë¼<br>ë‚´ê°€ ë„ˆí¬ë¥¼ ì‰¬ê²Œ í•˜ë¦¬ë¼", reference: "ë§ˆíƒœë³µìŒ 11ì¥ 28ì ˆ" },
      { content: "ë‚´ê°€ ì‚°ì„ í–¥í•˜ì—¬ ëˆˆì„ ë“¤ë¦¬ë¼ ë‚˜ì˜ ë„ì›€ì´ ì–´ë””ì„œ ì˜¬ê¹Œ<br>ë‚˜ì˜ ë„ì›€ì€ ì²œì§€ë¥¼ ì§€ìœ¼ì‹  ì—¬í˜¸ì™€ì—ê²Œì„œë¡œë‹¤", reference: "ì‹œí¸ 121í¸ 1-2ì ˆ" },
      { content: "ì—¬í˜¸ì™€ëŠ” ë‚˜ì˜ ëª©ìì‹œë‹ˆ ë‚´ê²Œ ë¶€ì¡±í•¨ì´ ì—†ìœ¼ë¦¬ë¡œë‹¤<br>ê·¸ê°€ ë‚˜ë¥¼ í‘¸ë¥¸ í’€ë°­ì— ëˆ„ì´ì‹œë©° ì‰´ ë§Œí•œ ë¬¼ê°€ë¡œ ì¸ë„í•˜ì‹œëŠ”ë„ë‹¤", reference: "ì‹œí¸ 23í¸ 1-2ì ˆ" },
      { content: "ë„ˆëŠ” ë§ˆìŒì„ ë‹¤í•˜ì—¬ ì—¬í˜¸ì™€ë¥¼ ì‹ ë¢°í•˜ê³  ë„¤ ëª…ì² ì„ ì˜ì§€í•˜ì§€ ë§ë¼<br>ë„ˆëŠ” ë²”ì‚¬ì— ê·¸ë¥¼ ì¸ì •í•˜ë¼ ê·¸ë¦¬í•˜ë©´ ë„¤ ê¸¸ì„ ì§€ë„í•˜ì‹œë¦¬ë¼", reference: "ì ì–¸ 3ì¥ 5-6ì ˆ" },
      { content: "ì£¼ ì•ˆì—ì„œ í•­ìƒ ê¸°ë»í•˜ë¼ ë‚´ê°€ ë‹¤ì‹œ ë§í•˜ë…¸ë‹ˆ ê¸°ë»í•˜ë¼<br>ë„ˆí¬ ê´€ìš©ì„ ëª¨ë“  ì‚¬ëŒì—ê²Œ ì•Œê²Œ í•˜ë¼ ì£¼ê»˜ì„œ ê°€ê¹Œìš°ì‹œë‹ˆë¼", reference: "ë¹Œë¦½ë³´ì„œ 4ì¥ 4-5ì ˆ" }
    ];

    function showPage(pageId) {
      document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');
    }

    function startLoading() {
      showPage('loadingPage');
      setTimeout(() => {
        const randomVerse = verses[Math.floor(Math.random() * verses.length)];
        document.getElementById('verseContent').innerHTML = randomVerse.content;
        document.getElementById('verseReference').textContent = randomVerse.reference;
        showPage('resultPage');
      }, 1500);
    }

    let lastCanvas;
    function previewImage() {
      const card = document.getElementById('verseCard');
      html2canvas(card, { backgroundColor: '#fefdfb', scale: 2 }).then(canvas => {
        lastCanvas = canvas;
        document.getElementById('previewImage').src = canvas.toDataURL('image/png');
        document.getElementById('previewModal').style.display = 'flex';
      });
    }

    function saveImage() {
      if (!lastCanvas) return;
      const link = document.createElement('a');
      link.download = 'í•˜ëŠ˜ëŒ€í•™ë¶€_ì‘ì›ë§ì”€_2025.png';
      link.href = lastCanvas.toDataURL('image/png');
      link.click();
      closePreview();
    }

    function closePreview() {
      document.getElementById('previewModal').style.display = 'none';
    }
  </script>
</body>
</html>
